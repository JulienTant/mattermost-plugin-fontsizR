[{"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/babel.config.js":"1","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/actions.ts":"2","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/components/FontSizRStyle.tsx":"3","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/defaults.ts":"4","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/index.tsx":"5","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/manifest.test.ts":"6","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/manifest.ts":"7","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/reducers.test.ts":"8","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/reducers.ts":"9","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/selectors.ts":"10","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/types/actions.ts":"11","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/webpack.config.js":"12","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/skip_integrity_check.js":"13"},{"size":1722,"mtime":1635638383529,"results":"14","hashOfConfig":"15"},{"size":351,"mtime":1637107321277,"results":"16","hashOfConfig":"15"},{"size":433,"mtime":1637107321277,"results":"17","hashOfConfig":"15"},{"size":39,"mtime":1637107321277,"results":"18","hashOfConfig":"15"},{"size":2146,"mtime":1637108358595,"results":"19","hashOfConfig":"15"},{"size":185,"mtime":1637108377012,"results":"20","hashOfConfig":"15"},{"size":107,"mtime":1637093073192,"results":"21","hashOfConfig":"15"},{"size":2092,"mtime":1637108418328,"results":"22","hashOfConfig":"15"},{"size":826,"mtime":1637107754885,"results":"23","hashOfConfig":"15"},{"size":432,"mtime":1637108269395,"results":"24","hashOfConfig":"15"},{"size":344,"mtime":1637107035451,"results":"25","hashOfConfig":"15"},{"size":4816,"mtime":1637107935154,"results":"26","hashOfConfig":"15"},{"size":373,"mtime":1637108575335,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1305fda",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/babel.config.js",[],"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/actions.ts",[],"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/components/FontSizRStyle.tsx",[],"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/defaults.ts",[],"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/index.tsx",["55"],"import React from 'react';\nimport {Store} from 'redux';\nimport {FormattedMessage} from 'react-intl';\n\n//@ts-ignore Webapp imports don't work properly\nimport {PluginRegistry} from '@mattermost/webapp/plugins/registry';\nimport {GlobalState} from 'mattermost-redux/types/store';\n\nimport {tickFontSizeAction, setFontSizeAction} from './actions';\nimport reducer from './reducers';\nimport FontSizRStyle from './components/FontSizRStyle';\nimport {getFontSize} from './selectors';\nimport {pluginId} from './manifest';\n\nconst LOCAL_STORAGE_KEY_FONT_SIZE = pluginId + ':font_size';\n\nclass FontSizRPlugin {\n    initialize(registry: PluginRegistry, store: Store<GlobalState>): void {\n        document.body.classList.add('plugin-fontsizr');\n        registry.registerRootComponent(FontSizRStyle);\n        registry.registerReducer(reducer);\n        registry.registerTranslations((locale: string) => {\n            try {\n                // eslint-disable-next-line global-require\n                return require(`../i18n/${locale}.json`); // TODO make async, this increases bundle size exponentially\n            } catch {\n                return {};\n            }\n        });\n\n        registry.registerChannelHeaderButtonAction(\n            <i className='icon fa fa-text-height'/>,\n            () => store.dispatch(tickFontSizeAction()),\n            <FormattedMessage defaultMessage='Change font size'/>,\n        );\n\n        // storage font size upon change\n        store.subscribe(() => {\n            const currentFontSize = getFontSize(store.getState());\n            if (currentFontSize > 0) {\n                localStorage.setItem(LOCAL_STORAGE_KEY_FONT_SIZE, currentFontSize.toString());\n            }\n        });\n\n        // restore font size if it was set before\n        const storedFontSize = parseFloat(localStorage.getItem(LOCAL_STORAGE_KEY_FONT_SIZE) ?? '0');\n        if (storedFontSize > 0) {\n            store.dispatch(setFontSizeAction(storedFontSize));\n        }\n    }\n\n    uninitialize() {\n        document.body.classList.remove('plugin-fontsizr');\n    }\n}\n\n// @ts-ignore\nwindow.registerPlugin('com.mattermost.plugin-fontsizr', new FontSizRPlugin());\n","/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/manifest.test.ts",[],"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/manifest.ts",[],"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/reducers.test.ts",[],"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/reducers.ts",[],"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/selectors.ts",[],"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/src/types/actions.ts",[],"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/webpack.config.js",[],"/home/a/GolandProjects/mattermost/mattermost-plugin-fontsizR/webapp/skip_integrity_check.js",[],{"ruleId":"56","severity":1,"message":"57","line":25,"column":59,"nodeType":"58","messageId":"59","endLine":25,"endColumn":119},"no-warning-comments","Unexpected 'todo' comment: 'TODO make async, this increases bundle...'.","Line","unexpectedComment"]